<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>EMR SOAP Note</title>
    <link rel="stylesheet" href="/CSS/style.css" />
  </head>
  <body>
    <h1>EMR SOAP Note</h1>

    <div class="section">
      <h2>Patient Information</h2>
      <label for="patient-name">Patient Name:</label>
      <input type="text" id="patient-name" />
      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob" />
      <label for="visit-date">Date of Visit:</label>
      <input type="date" id="visit-date" />
      <label for="provider">Provider:</label>
      <input type="text" id="provider" />
    </div>

    <div class="section">
      <h2>Subjective</h2>
      <label for="chief-complaint">Chief Complaint:</label>
      <textarea id="chief-complaint" rows="2"></textarea>
      <label for="hpi">History of Present Illness:</label>
      <textarea id="hpi" rows="3"></textarea>
      <label for="ros">Review of Systems:</label>
      <textarea id="ros" rows="5"></textarea>
    </div>

    <div class="section">
      <h2>Objective</h2>
      <label for="vitals">Vitals:</label>
      <textarea id="vitals" rows="3"></textarea>
      <label for="physical-exam">Physical Exam:</label>
      <textarea id="physical-exam" rows="5"></textarea>
    </div>

    <div class="section">
      <h2>Assessment</h2>
      <label for="diagnosis">Diagnosis (ICD-10):</label>
      <textarea id="diagnosis" rows="3"></textarea>
    </div>

    <div class="section">
      <h2>Plan</h2>
      <label for="plan">Treatment Plan:</label>
      <textarea id="plan" rows="5"></textarea>
    </div>

    <div class="section">
      <h2>Billing & Coding</h2>
      <label for="cpt-codes">CPT Codes:</label>
      <textarea id="cpt-codes" rows="2"></textarea>
      <label for="hcpcs-codes">HCPCS Codes:</label>
      <textarea id="hcpcs-codes" rows="2"></textarea>
      <label for="modifiers">Modifiers:</label>
      <textarea id="modifiers" rows="1"></textarea>
    </div>

    <button onclick="submitForm()">Submit</button>

    <script>
      function submitForm() {
        const data = {
          patientName: document.getElementById("patient-name").value,
          dob: document.getElementById("dob").value,
          visitDate: document.getElementById("visit-date").value,
          provider: document.getElementById("provider").value,
          chiefComplaint: document.getElementById("chief-complaint").value,
          hpi: document.getElementById("hpi").value,
          ros: document.getElementById("ros").value,
          vitals: document.getElementById("vitals").value,
          physicalExam: document.getElementById("physical-exam").value,
          diagnosis: document.getElementById("diagnosis").value,
          plan: document.getElementById("plan").value,
          cptCodes: document.getElementById("cpt-codes").value,
          hcpcsCodes: document.getElementById("hcpcs-codes").value,
          modifiers: document.getElementById("modifiers").value,
        };

        fetch("submit-emr.php", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        })
          .then((res) => res.text())
          .then(alert)
          .catch((err) => console.error("Error:", err));
      }
    </script>
  </body>
</html>
